/* ========================
   1) 라이트/다크 테마 변수
   ======================== */
   :root {
    /* 공통 색상 (라이트 기본) */
    --bg: #ffffff;
    --text: #111111;
  
    --assistant-bg: #f1f0f0;  /* 라이트 어시스턴트 말풍선 */
    --assistant-text: #111111;
  
    --user-bg: #dcf8c6;       /* 라이트 유저 말풍선 */
    --user-text: #111111;
  
    --input-bg: #ffffff;
    --input-text: #111111;
    --input-border: #cccccc;
  
    --button-bg: #4caf50;
    --button-text: #ffffff;
  
    --placeholder: rgba(127,127,127,0.9);
  }
  
  @media (prefers-color-scheme: dark) {
    :root {
      --bg: #0f1115;
      --text: #eaecef;
  
      --assistant-bg: #26272b;  /* 다크 어시스턴트 말풍선 */
      --assistant-text: #eaecef;
  
      --user-bg: #2a3b2c;       /* 다크 유저 말풍선 */
      --user-text: #eaecef;
  
      --input-bg: #15171b;
      --input-text: #eaecef;
      --input-border: #363a3f;
  
      --button-bg: #3aa55d;     /* 대비 유지 */
      --button-text: #ffffff;
  
      --placeholder: rgba(180,180,180,0.9);
    }
  
    /* iOS/안드로이드 인앱 자동 반전 완화 */
    html { color-scheme: light dark; }
  }
  
  /* ========================
     2) 베이스
     ======================== */
  html, body {
    height: 100%;
    background: var(--bg);
    color: var(--text);
    margin: 0;
    padding: 0;
    -webkit-text-size-adjust: 100%;
  }
  
  .chatWindow {
    display: flex;
    flex-direction: column;
    height: 90vh;
    padding: 1rem;
  }
  
  .messages {
    flex: 1;
    overflow-y: auto;
    margin-bottom: 1rem;
  }
  
  /* ========================
     3) 말풍선
     ======================== */
  .user, .assistant {
    padding: 0.5rem;
    margin: 0.3rem;
    border-radius: 8px;
  }
  
  /* 카카오/인앱 브라우저의 알고리즘 다크 반전 방지 */
  .user, .assistant { color-scheme: light; }
  
  .user {
    text-align: right;
    background: var(--user-bg);
    color: var(--user-text);
  }
  
  .assistant {
    text-align: left;
    background: var(--assistant-bg);
    color: var(--assistant-text);
  }
  
  /* ========================
     4) 입력 영역
     ======================== */
  .inputArea {
    display: flex;
    gap: 0.5rem;
  }
  
  .inputField {
    flex: 1;
    padding: 0.5rem;
    border-radius: 6px;
    border: 1px solid var(--input-border);
    background: var(--input-bg);
    color: var(--input-text);
    outline: none;
  }
  
  .inputField::placeholder {
    color: var(--placeholder);
    opacity: 1; /* iOS 기본 희석 제거 */
  }
  
  /* 크롬/안드 자동완성 배경색 덮기 */
  input:-webkit-autofill,
  textarea:-webkit-autofill {
    -webkit-text-fill-color: var(--input-text);
    transition: background-color 5000s ease-in-out 0s;
  }
  
  .sendButton {
    padding: 0.5rem 1rem;
    border: none;
    background: var(--button-bg);
    color: var(--button-text);
    border-radius: 6px;
  }
  
  /* 접근성: 버튼 포커스 */
  .sendButton:focus-visible,
  .inputField:focus-visible {
    outline: 2px solid rgba(76,175,80,0.6);
    outline-offset: 2px;
  }